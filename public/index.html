<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Image</title>
</head>
<body>
  <input type="file" id="fileInput">
  <button id="uploadButton">Upload</button>
  
  <!-- Вставляем Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-storage-compat.js"></script>
  <script>
    // Инициализируем Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCnlcR-1pnqtuGD2WcAuTIk0EKbvFLpzro",
      authDomain: "taskcheker-39fd8.firebaseapp.com",
      databaseURL: "https://taskcheker-39fd8-default-rtdb.firebaseio.com",
      projectId: "taskcheker-39fd8",
      storageBucket: "taskcheker-39fd8.appspot.com",
      messagingSenderId: "842129711807",
      appId: "1:842129711807:web:2092c0d8bd462432b01c0a",
      measurementId: "G-88K82CEL5B"
    };

    // Инициализируем Firebase
    firebase.initializeApp(firebaseConfig);
    const storage = firebase.storage();

    function uploadImage() {
      const fileInput = document.getElementById('fileInput');
      const file = fileInput.files[0];

      if (!file) {
        alert('Выберите файл для загрузки');
        return;
      }

      const storageRef = storage.ref();
      const imagesRef = storageRef.child('images/' + file.name);

      imagesRef.put(file).then((snapshot) => {
        console.log('Uploaded a blob or file!', snapshot);
        alert('Файл успешно загружен');
      }).catch((error) => {
        console.error('Error uploading file:', error);
        alert('Произошла ошибка при загрузке файла');
      });
    }

    // Добавляем обработчик события для кнопки загрузки после инициализации Firebase
    document.getElementById('uploadButton').addEventListener('click', uploadImage);
  </script>
</body>
</html>
